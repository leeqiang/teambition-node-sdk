"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Result {
    constructor(code, result, message, raw = false) {
        this.code = Result.OK;
        this.result = null;
        this.message = '';
        this.success = false;
        this.raw = false;
        this.code = code;
        this.result = result;
        this.message = message;
        this.raw = raw;
        this.success = this.code === Result.OK;
    }
    static success(result, message = 'ok') {
        return new Result(Result.OK, result, message);
    }
    static raw(result, message = 'ok') {
        return new Result(Result.OK, result, message, true);
    }
    static fail(result, message, code) {
        code = code || Result.ERROR;
        return new Result(Result.ERROR, result, message || 'failed');
    }
    /**
     * 抛异常
     *
     * @param message
     * @param code
     */
    static exception(message, name = 'error', code) {
        code = code || Result.ERROR;
        const error = new Error(message);
        error.name = name;
        const messages = Result.i18nMessages[Result.lang];
        if (messages && messages[error.name]) {
            error.message = messages[error.name];
        }
        error.code = code;
        return error;
    }
    /**
     * 判断是否result
     *
     * @param result
     */
    static isResult(result) {
        return result instanceof Result;
    }
}
exports.Result = Result;
Result.OK = 200;
Result.RESOURCE_CREATED = 201;
Result.PENDING = 202;
Result.NO_CONTENT = 204;
Result.ERROR = 400;
Result.NO_AUTHORIZE = 401;
Result.ACCESS_FORBIDDEN = 403;
Result.NOT_FOUND = 404;
Result.METHOD_NOT_ALLOWED = 405;
Result.RESOURCE_MISMATCH = 406;
Result.REQUEST_TIMEOUT = 408;
Result.REQUEST_TOO_LARGE = 413;
Result.SERVICE_ERROR = 500;
Result.BAD_GATEWAY = 502;
Result.SERVICE_NOT_AVAILABLE = 503;
Result.lang = 'zh';
Result.i18nMessages = {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3R5cGVzL3Jlc3VsdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLE1BQWEsTUFBTTtJQTBCakIsWUFBWSxJQUFZLEVBQUUsTUFBUyxFQUFFLE9BQWdCLEVBQUUsTUFBZSxLQUFLO1FBTjNFLFNBQUksR0FBVyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3pCLFdBQU0sR0FBZ0IsSUFBSSxDQUFDO1FBQzNCLFlBQU8sR0FBcUIsRUFBRSxDQUFDO1FBQy9CLFlBQU8sR0FBWSxLQUFLLENBQUM7UUFDekIsUUFBRyxHQUFZLEtBQUssQ0FBQztRQUduQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTyxDQUFJLE1BQVMsRUFBRSxVQUFrQixJQUFJO1FBQ2pELE9BQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFHLENBQUksTUFBUyxFQUFFLFVBQWtCLElBQUk7UUFDN0MsT0FBTyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFJLENBQUksTUFBUyxFQUFFLE9BQWUsRUFBRSxJQUFhO1FBQ3RELElBQUksR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQztRQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE9BQU8sSUFBSSxRQUFRLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQWUsRUFBRSxPQUFlLE9BQU8sRUFBRSxJQUFhO1FBQ3JFLElBQUksR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQztRQUM1QixNQUFNLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNqQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUVsQixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQVEsQ0FBQztRQUN6RCxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3BDLEtBQUssQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QztRQUVBLEtBQWEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQzNCLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQVc7UUFDekIsT0FBTyxNQUFNLFlBQVksTUFBTSxDQUFDO0lBQ2xDLENBQUM7O0FBMUVILHdCQTRFQztBQTNFUSxTQUFFLEdBQUcsR0FBRyxDQUFDO0FBQ1QsdUJBQWdCLEdBQUcsR0FBRyxDQUFDO0FBQ3ZCLGNBQU8sR0FBRyxHQUFHLENBQUM7QUFDZCxpQkFBVSxHQUFHLEdBQUcsQ0FBQztBQUNqQixZQUFLLEdBQUcsR0FBRyxDQUFDO0FBQ1osbUJBQVksR0FBRyxHQUFHLENBQUM7QUFDbkIsdUJBQWdCLEdBQUcsR0FBRyxDQUFDO0FBQ3ZCLGdCQUFTLEdBQUcsR0FBRyxDQUFDO0FBQ2hCLHlCQUFrQixHQUFHLEdBQUcsQ0FBQztBQUN6Qix3QkFBaUIsR0FBRyxHQUFHLENBQUM7QUFDeEIsc0JBQWUsR0FBRyxHQUFHLENBQUM7QUFDdEIsd0JBQWlCLEdBQUcsR0FBRyxDQUFDO0FBQ3hCLG9CQUFhLEdBQUcsR0FBRyxDQUFDO0FBQ3BCLGtCQUFXLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLDRCQUFxQixHQUFHLEdBQUcsQ0FBQztBQUU1QixXQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ1osbUJBQVksR0FBOEIsRUFBRSxDQUFDIn0=